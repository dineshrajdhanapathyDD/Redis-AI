<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Redis AI Platform</title>\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            min-height: 100vh;\n            color: #333;\n        }\n        \n        .container {\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 20px;\n        }\n        \n        .header {\n            text-align: center;\n            color: white;\n            margin-bottom: 30px;\n        }\n        \n        .header h1 {\n            font-size: 2.5rem;\n            margin-bottom: 10px;\n        }\n        \n        .header p {\n            font-size: 1.1rem;\n            opacity: 0.9;\n        }\n        \n        .dashboard {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n            gap: 20px;\n            margin-bottom: 30px;\n        }\n        \n        .card {\n            background: white;\n            border-radius: 12px;\n            padding: 20px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n            transition: transform 0.2s;\n        }\n        \n        .card:hover {\n            transform: translateY(-2px);\n        }\n        \n        .card h3 {\n            color: #4a5568;\n            margin-bottom: 15px;\n            font-size: 1.2rem;\n        }\n        \n        .status {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            margin-bottom: 10px;\n        }\n        \n        .status-dot {\n            width: 12px;\n            height: 12px;\n            border-radius: 50%;\n            background: #48bb78;\n        }\n        \n        .status-dot.error {\n            background: #f56565;\n        }\n        \n        .stats-grid {\n            display: grid;\n            grid-template-columns: repeat(2, 1fr);\n            gap: 10px;\n        }\n        \n        .stat {\n            text-align: center;\n            padding: 10px;\n            background: #f7fafc;\n            border-radius: 8px;\n        }\n        \n        .stat-value {\n            font-size: 1.5rem;\n            font-weight: bold;\n            color: #2d3748;\n        }\n        \n        .stat-label {\n            font-size: 0.8rem;\n            color: #718096;\n            margin-top: 5px;\n        }\n        \n        .search-section {\n            background: white;\n            border-radius: 12px;\n            padding: 20px;\n            margin-bottom: 20px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        \n        .search-form {\n            display: flex;\n            gap: 10px;\n            margin-bottom: 20px;\n        }\n        \n        .search-input {\n            flex: 1;\n            padding: 12px;\n            border: 2px solid #e2e8f0;\n            border-radius: 8px;\n            font-size: 1rem;\n        }\n        \n        .search-input:focus {\n            outline: none;\n            border-color: #667eea;\n        }\n        \n        .btn {\n            padding: 12px 24px;\n            background: #667eea;\n            color: white;\n            border: none;\n            border-radius: 8px;\n            cursor: pointer;\n            font-size: 1rem;\n            transition: background 0.2s;\n        }\n        \n        .btn:hover {\n            background: #5a67d8;\n        }\n        \n        .btn:disabled {\n            background: #a0aec0;\n            cursor: not-allowed;\n        }\n        \n        .results {\n            margin-top: 20px;\n        }\n        \n        .result-item {\n            background: #f7fafc;\n            border-radius: 8px;\n            padding: 15px;\n            margin-bottom: 10px;\n            border-left: 4px solid #667eea;\n        }\n        \n        .result-title {\n            font-weight: bold;\n            color: #2d3748;\n            margin-bottom: 5px;\n        }\n        \n        .result-content {\n            color: #4a5568;\n            line-height: 1.5;\n        }\n        \n        .result-meta {\n            font-size: 0.8rem;\n            color: #718096;\n            margin-top: 8px;\n        }\n        \n        .add-document {\n            background: white;\n            border-radius: 12px;\n            padding: 20px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        \n        .form-group {\n            margin-bottom: 15px;\n        }\n        \n        .form-label {\n            display: block;\n            margin-bottom: 5px;\n            font-weight: 500;\n            color: #4a5568;\n        }\n        \n        .form-input {\n            width: 100%;\n            padding: 10px;\n            border: 2px solid #e2e8f0;\n            border-radius: 6px;\n            font-size: 1rem;\n        }\n        \n        .form-textarea {\n            width: 100%;\n            padding: 10px;\n            border: 2px solid #e2e8f0;\n            border-radius: 6px;\n            font-size: 1rem;\n            min-height: 100px;\n            resize: vertical;\n        }\n        \n        .form-input:focus,\n        .form-textarea:focus {\n            outline: none;\n            border-color: #667eea;\n        }\n        \n        .loading {\n            text-align: center;\n            color: #718096;\n            padding: 20px;\n        }\n        \n        .error {\n            background: #fed7d7;\n            color: #c53030;\n            padding: 10px;\n            border-radius: 6px;\n            margin-bottom: 15px;\n        }\n        \n        .success {\n            background: #c6f6d5;\n            color: #2f855a;\n            padding: 10px;\n            border-radius: 6px;\n            margin-bottom: 15px;\n        }\n        \n        @media (max-width: 768px) {\n            .dashboard {\n                grid-template-columns: 1fr;\n            }\n            \n            .search-form {\n                flex-direction: column;\n            }\n            \n            .stats-grid {\n                grid-template-columns: 1fr;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"header\">\n            <h1>üöÄ Redis AI Platform</h1>\n            <p>Real-time AI-powered data processing with Redis</p>\n        </div>\n        \n        <div class=\"dashboard\">\n            <div class=\"card\">\n                <h3>üîß System Status</h3>\n                <div id=\"system-status\">\n                    <div class=\"loading\">Loading...</div>\n                </div>\n            </div>\n            \n            <div class=\"card\">\n                <h3>üìä Redis Statistics</h3>\n                <div id=\"redis-stats\">\n                    <div class=\"loading\">Loading...</div>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"search-section\">\n            <h3>üîç Document Search</h3>\n            <div class=\"search-form\">\n                <input type=\"text\" id=\"search-input\" class=\"search-input\" placeholder=\"Search documents...\" />\n                <button id=\"search-btn\" class=\"btn\">Search</button>\n            </div>\n            <div id=\"search-results\"></div>\n        </div>\n        \n        <div class=\"add-document\">\n            <h3>üìù Add New Document</h3>\n            <div id=\"add-document-message\"></div>\n            <form id=\"add-document-form\">\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"doc-title\">Title</label>\n                    <input type=\"text\" id=\"doc-title\" class=\"form-input\" required />\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"doc-content\">Content</label>\n                    <textarea id=\"doc-content\" class=\"form-textarea\" required></textarea>\n                </div>\n                <div class=\"form-group\">\n                    <label class=\"form-label\" for=\"doc-category\">Category</label>\n                    <input type=\"text\" id=\"doc-category\" class=\"form-input\" placeholder=\"e.g., tutorial, guide, reference\" />\n                </div>\n                <button type=\"submit\" class=\"btn\">Add Document</button>\n            </form>\n        </div>\n    </div>\n    \n    <script>\n        // API base URL\n        const API_BASE = '/api';\n        \n        // Load system status\n        async function loadSystemStatus() {\n            try {\n                const response = await fetch(`${API_BASE}/health`);\n                const data = await response.json();\n                \n                const statusHtml = `\n                    <div class=\"status\">\n                        <div class=\"status-dot ${data.status === 'healthy' ? '' : 'error'}\"></div>\n                        <span>System ${data.status}</span>\n                    </div>\n                    <div class=\"status\">\n                        <div class=\"status-dot ${data.redis === 'connected' ? '' : 'error'}\"></div>\n                        <span>Redis ${data.redis}</span>\n                    </div>\n                    <div style=\"margin-top: 10px; font-size: 0.8rem; color: #718096;\">\n                        Last updated: ${new Date(data.timestamp).toLocaleTimeString()}\n                    </div>\n                `;\n                \n                document.getElementById('system-status').innerHTML = statusHtml;\n            } catch (error) {\n                document.getElementById('system-status').innerHTML = `\n                    <div class=\"error\">Failed to load system status</div>\n                `;\n            }\n        }\n        \n        // Load Redis statistics\n        async function loadRedisStats() {\n            try {\n                const response = await fetch(`${API_BASE}/stats`);\n                const data = await response.json();\n                \n                const statsHtml = `\n                    <div class=\"stats-grid\">\n                        <div class=\"stat\">\n                            <div class=\"stat-value\">${data.connected_clients}</div>\n                            <div class=\"stat-label\">Clients</div>\n                        </div>\n                        <div class=\"stat\">\n                            <div class=\"stat-value\">${data.used_memory_human}</div>\n                            <div class=\"stat-label\">Memory</div>\n                        </div>\n                        <div class=\"stat\">\n                            <div class=\"stat-value\">${parseInt(data.total_commands_processed || 0).toLocaleString()}</div>\n                            <div class=\"stat-label\">Commands</div>\n                        </div>\n                        <div class=\"stat\">\n                            <div class=\"stat-value\">${Math.floor((data.uptime_in_seconds || 0) / 60)}m</div>\n                            <div class=\"stat-label\">Uptime</div>\n                        </div>\n                    </div>\n                `;\n                \n                document.getElementById('redis-stats').innerHTML = statsHtml;\n            } catch (error) {\n                document.getElementById('redis-stats').innerHTML = `\n                    <div class=\"error\">Failed to load Redis stats</div>\n                `;\n            }\n        }\n        \n        // Search documents\n        async function searchDocuments(query) {\n            if (!query.trim()) return;\n            \n            const resultsDiv = document.getElementById('search-results');\n            resultsDiv.innerHTML = '<div class=\"loading\">Searching...</div>';\n            \n            try {\n                const response = await fetch(`${API_BASE}/search`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({ query, limit: 10 })\n                });\n                \n                const data = await response.json();\n                \n                if (data.results && data.results.length > 0) {\n                    const resultsHtml = `\n                        <div style=\"margin-bottom: 15px; color: #4a5568;\">\n                            Found ${data.total} results for \"${data.query}\"\n                        </div>\n                        ${data.results.map(result => `\n                            <div class=\"result-item\">\n                                <div class=\"result-title\">${result.title}</div>\n                                <div class=\"result-content\">${result.content}</div>\n                                <div class=\"result-meta\">\n                                    Category: ${result.category} | ID: ${result.key}\n                                </div>\n                            </div>\n                        `).join('')}\n                    `;\n                    resultsDiv.innerHTML = resultsHtml;\n                } else {\n                    resultsDiv.innerHTML = `\n                        <div style=\"text-align: center; color: #718096; padding: 20px;\">\n                            No results found for \"${query}\"\n                        </div>\n                    `;\n                }\n            } catch (error) {\n                resultsDiv.innerHTML = `\n                    <div class=\"error\">Search failed: ${error.message}</div>\n                `;\n            }\n        }\n        \n        // Add new document\n        async function addDocument(title, content, category) {\n            const messageDiv = document.getElementById('add-document-message');\n            messageDiv.innerHTML = '<div class=\"loading\">Adding document...</div>';\n            \n            try {\n                const response = await fetch(`${API_BASE}/documents`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({ title, content, category })\n                });\n                \n                const data = await response.json();\n                \n                if (data.success) {\n                    messageDiv.innerHTML = `\n                        <div class=\"success\">\n                            Document added successfully! ID: ${data.id}\n                        </div>\n                    `;\n                    document.getElementById('add-document-form').reset();\n                } else {\n                    throw new Error(data.error || 'Failed to add document');\n                }\n            } catch (error) {\n                messageDiv.innerHTML = `\n                    <div class=\"error\">Failed to add document: ${error.message}</div>\n                `;\n            }\n            \n            // Clear message after 5 seconds\n            setTimeout(() => {\n                messageDiv.innerHTML = '';\n            }, 5000);\n        }\n        \n        // Event listeners\n        document.getElementById('search-btn').addEventListener('click', () => {\n            const query = document.getElementById('search-input').value;\n            searchDocuments(query);\n        });\n        \n        document.getElementById('search-input').addEventListener('keypress', (e) => {\n            if (e.key === 'Enter') {\n                const query = e.target.value;\n                searchDocuments(query);\n            }\n        });\n        \n        document.getElementById('add-document-form').addEventListener('submit', (e) => {\n            e.preventDefault();\n            const title = document.getElementById('doc-title').value;\n            const content = document.getElementById('doc-content').value;\n            const category = document.getElementById('doc-category').value || 'general';\n            addDocument(title, content, category);\n        });\n        \n        // Initialize dashboard\n        function init() {\n            loadSystemStatus();\n            loadRedisStats();\n            \n            // Refresh stats every 30 seconds\n            setInterval(() => {\n                loadSystemStatus();\n                loadRedisStats();\n            }, 30000);\n        }\n        \n        // Start the application\n        init();\n    </script>\n</body>\n</html>"